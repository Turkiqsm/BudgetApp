{"code":"import * as tslib_1 from \"tslib\";\r\nimport Vue from 'vue';\r\nimport poserFactory from 'popmotion-pose';\r\nimport PoserMap from '../utils/poser-map';\r\nvar setPoserTo = function (pose) { return function (el, done) {\r\n    return PoserMap.get(el)\r\n        .set(pose)\r\n        .then(done);\r\n}; };\r\nvar initPoser = function (setPrePose, defaultConfig, initialPose) { return function (el) {\r\n    setPrePose(initialPose);\r\n    console.log(PoserMap.has(el));\r\n    if (!PoserMap.has(el)) {\r\n        PoserMap.set(el, poserFactory(el, tslib_1.__assign({}, defaultConfig, { initialPose: initialPose })));\r\n    }\r\n}; };\r\nvar PoseTransition = Vue.extend({\r\n    props: {\r\n        preEnterPose: {\r\n            type: String,\r\n            default: 'preEnter'\r\n        },\r\n        enterPose: {\r\n            type: String,\r\n            default: 'enter'\r\n        },\r\n        exitPose: {\r\n            type: String,\r\n            default: 'exit'\r\n        }\r\n    },\r\n    provide: function () {\r\n        var parent = this;\r\n        return {\r\n            _poseGetInitialPoseFromParent: function () {\r\n                return parent.prePose;\r\n            },\r\n            _poseDestroyOnUnmount: false\r\n        };\r\n    },\r\n    created: function () {\r\n        var _this = this;\r\n        var _a;\r\n        var _b = this.$props, preEnterPose = _b.preEnterPose, enterPose = _b.enterPose, exitPose = _b.exitPose;\r\n        var appear = this.$attrs.appear;\r\n        var defaultConfig = (_a = {},\r\n            _a[enterPose] = { opacity: 1, y: 0 },\r\n            _a[exitPose] = { opacity: 0 },\r\n            _a[preEnterPose] = { opacity: 0, y: 20 },\r\n            _a);\r\n        var setPrePose = function (pose) { return (_this.prePose = pose); };\r\n        this.on = {\r\n            beforeEnter: initPoser(setPrePose, defaultConfig, exitPose),\r\n            beforeLeave: initPoser(setPrePose, defaultConfig, enterPose),\r\n            enter: setPoserTo(enterPose),\r\n            leave: setPoserTo(exitPose)\r\n        };\r\n        if (appear !== undefined) {\r\n            this.on.appear = setPoserTo(enterPose);\r\n            this.on.beforeAppear = initPoser(setPrePose, defaultConfig, preEnterPose);\r\n        }\r\n    },\r\n    render: function (createElement) {\r\n        return createElement('transition', {\r\n            props: tslib_1.__assign({ css: false }, this.$attrs),\r\n            on: this.on\r\n        }, [this.$slots.default]);\r\n    }\r\n});\r\nexport default PoseTransition;\r\n//# sourceMappingURL=pose-transition.js.map","map":"{\"version\":3,\"file\":\"pose-transition.js\",\"sourceRoot\":\"\",\"sources\":[\"../src/components/pose-transition.ts\"],\"names\":[],\"mappings\":\"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\"}"}
